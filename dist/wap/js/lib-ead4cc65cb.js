function JPEGEncoder(e){function t(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;64>i;i++){var r=P((t[i]*e+50)/100);1>r?r=1:r>255&&(r=255),T[Y[i]]=r}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;64>o;o++){var a=P((n[o]*e+50)/100);1>a?a=1:a>255&&(a=255),E[Y[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;8>c;c++)for(var h=0;8>h;h++)k[l]=1/(T[Y[l]]*s[c]*s[h]*8),A[l]=1/(E[Y[l]]*s[c]*s[h]*8),l++}function i(e,t){for(var i=0,r=0,n=new Array,o=1;16>=o;o++){for(var a=1;a<=e[o];a++)n[t[r]]=[],n[t[r]][0]=i,n[t[r]][1]=o,r++,i++;i*=2}return n}function r(){y=i(R,H),b=i($,Z),w=i(U,G),S=i(j,V)}function n(){for(var e=1,t=2,i=1;15>=i;i++){for(var r=e;t>r;r++)C[32767+r]=i,M[32767+r]=[],M[32767+r][1]=i,M[32767+r][0]=r;for(var n=-(t-1);-e>=n;n++)C[32767+n]=i,M[32767+n]=[],M[32767+n][1]=i,M[32767+n][0]=t-1+n;e<<=1,t<<=1}}function o(){for(var e=0;256>e;e++)W[e]=19595*e,W[e+256>>0]=38470*e,W[e+512>>0]=7471*e+32768,W[e+768>>0]=-11059*e,W[e+1024>>0]=-21709*e,W[e+1280>>0]=32768*e+8421375,W[e+1536>>0]=-27439*e,W[e+1792>>0]=-5329*e}function a(e){for(var t=e[0],i=e[1]-1;i>=0;)t&1<<i&&(L|=1<<D),i--,D--,0>D&&(255==L?(s(255),s(0)):s(L),D=7,L=0)}function s(e){B.push(X[e])}function l(e){s(e>>8&255),s(255&e)}function c(e,t){var i,r,n,o,a,s,l,c,h,u=0;const d=8,p=64;for(h=0;d>h;++h){i=e[u],r=e[u+1],n=e[u+2],o=e[u+3],a=e[u+4],s=e[u+5],l=e[u+6],c=e[u+7];var f=i+c,m=i-c,g=r+l,v=r-l,x=n+s,y=n-s,b=o+a,w=o-a,S=f+b,_=f-b,P=g+x,T=g-x;e[u]=S+P,e[u+4]=S-P;var E=.707106781*(T+_);e[u+2]=_+E,e[u+6]=_-E,S=w+y,P=y+v,T=v+m;var k=.382683433*(S-T),A=.5411961*S+k,M=1.306562965*T+k,C=.707106781*P,O=m+C,B=m-C;e[u+5]=B+A,e[u+3]=B-A,e[u+1]=O+M,e[u+7]=O-M,u+=8}for(u=0,h=0;d>h;++h){i=e[u],r=e[u+8],n=e[u+16],o=e[u+24],a=e[u+32],s=e[u+40],l=e[u+48],c=e[u+56];var L=i+c,D=i-c,N=r+l,I=r-l,F=n+s,X=n-s,W=o+a,Y=o-a,R=L+W,H=L-W,U=N+F,G=N-F;e[u]=R+U,e[u+32]=R-U;var $=.707106781*(G+H);e[u+16]=H+$,e[u+48]=H-$,R=Y+X,U=X+I,G=I+D;var Z=.382683433*(R-G),j=.5411961*R+Z,V=1.306562965*G+Z,q=.707106781*U,K=D+q,J=D-q;e[u+40]=J+j,e[u+24]=J-j,e[u+8]=K+V,e[u+56]=K-V,u++}var Q;for(h=0;p>h;++h)Q=e[h]*t[h],z[h]=Q>0?Q+.5|0:Q-.5|0;return z}function h(){l(65504),l(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),l(1),l(1),s(0),s(0)}function u(e,t){l(65472),l(17),s(8),l(t),l(e),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function d(){l(65499),l(132),s(0);for(var e=0;64>e;e++)s(T[e]);s(1);for(var t=0;64>t;t++)s(E[t])}function p(){l(65476),l(418),s(0);for(var e=0;16>e;e++)s(R[e+1]);for(var t=0;11>=t;t++)s(H[t]);s(16);for(var i=0;16>i;i++)s(U[i+1]);for(var r=0;161>=r;r++)s(G[r]);s(1);for(var n=0;16>n;n++)s($[n+1]);for(var o=0;11>=o;o++)s(Z[o]);s(17);for(var a=0;16>a;a++)s(j[a+1]);for(var c=0;161>=c;c++)s(V[c])}function f(){l(65498),l(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function m(e,t,i,r,n){var o,s=n[0],l=n[240];const h=16,u=63,d=64;for(var p=c(e,t),f=0;d>f;++f)O[Y[f]]=p[f];var m=O[0]-i;i=O[0],0==m?a(r[0]):(o=32767+m,a(r[C[o]]),a(M[o]));for(var g=63;g>0&&0==O[g];g--);if(0==g)return a(s),i;for(var v,x=1;g>=x;){for(var y=x;0==O[x]&&g>=x;++x);var b=x-y;if(b>=h){v=b>>4;for(var w=1;v>=w;++w)a(l);b=15&b}o=32767+O[x],a(n[(b<<4)+C[o]]),a(M[o]),x++}return g!=u&&a(s),i}function g(){for(var e=String.fromCharCode,t=0;256>t;t++)X[t]=e(t)}function v(e){if(0>=e&&(e=1),e>100&&(e=100),_!=e){var i=0;i=Math.floor(50>e?5e3/e:200-2*e),t(i),_=e,console.log("Quality set to: "+e+"%")}}function x(){var t=(new Date).getTime();e||(e=50),g(),r(),n(),o(),v(e);var i=(new Date).getTime()-t;console.log("Initialization "+i+"ms")}var y,b,w,S,_,P=(Math.round,Math.floor),T=new Array(64),E=new Array(64),k=new Array(64),A=new Array(64),M=new Array(65535),C=new Array(65535),z=new Array(64),O=new Array(64),B=[],L=0,D=7,N=new Array(64),I=new Array(64),F=new Array(64),X=new Array(256),W=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t,i){var r=(new Date).getTime();t&&v(t),B=new Array,L=0,D=7,l(65496),h(),d(),u(e.width,e.height),p(),f();var n=0,o=0,s=0;L=0,D=7,this.encode.displayName="_encode_";for(var c,g,x,_,P,T,E,M,C,z=e.data,O=e.width,X=e.height,Y=4*O,R=0;X>R;){for(c=0;Y>c;){for(P=Y*R+c,T=P,E=-1,M=0,C=0;64>C;C++)M=C>>3,E=4*(7&C),T=P+M*Y+E,R+M>=X&&(T-=Y*(R+1+M-X)),c+E>=Y&&(T-=c+E-Y+4),g=z[T++],x=z[T++],_=z[T++],N[C]=(W[g]+W[x+256>>0]+W[_+512>>0]>>16)-128,I[C]=(W[g+768>>0]+W[x+1024>>0]+W[_+1280>>0]>>16)-128,F[C]=(W[g+1280>>0]+W[x+1536>>0]+W[_+1792>>0]>>16)-128;n=m(N,k,n,y,w),o=m(I,A,o,b,S),s=m(F,A,s,b,S),c+=32}R+=8}if(D>=0){var H=[];H[1]=D+1,H[0]=(1<<D+1)-1,a(H)}if(l(65497),i){for(var U=B.length,G=new Uint8Array(U),$=0;U>$;$++)G[$]=B[$].charCodeAt();B=[];var Z=(new Date).getTime()-r;return console.log("Encoding time: "+Z+"ms"),G}var j="data:image/jpeg;base64,"+btoa(B.join(""));B=[];var Z=(new Date).getTime()-r;return console.log("Encoding time: "+Z+"ms"),j},x()}!function(e,t,i){function r(e,i){this.wrapper="string"==typeof e?t.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var r in i)this.options[r]=i[r];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function n(e,i,r){var n=t.createElement("div"),o=t.createElement("div");return r===!0&&(n.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(r===!0&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(r===!0&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",i||(n.style.pointerEvents="none"),n.appendChild(o),n}function o(i,r){this.wrapper="string"==typeof r.el?t.querySelector(r.el):r.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in r)this.options[n]=r[n];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(e,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.addEvent(e,s.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[s.style.transform]=this.scroller.translateZ,this.wrapperStyle[s.style.transitionDuration]=s.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},s=function(){function r(e){return a===!1?!1:""===a?e:a+e.charAt(0).toUpperCase()+e.substr(1)}var n={},o=t.createElement("div").style,a=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],i=0,r=t.length;r>i;i++)if(e=t[i]+"ransform",e in o)return t[i].substr(0,t[i].length-1);return!1}();n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(e,t){for(var i in t)e[i]=t[i]},n.addEvent=function(e,t,i,r){e.addEventListener(t,i,!!r)},n.removeEvent=function(e,t,i,r){e.removeEventListener(t,i,!!r)},n.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},n.momentum=function(e,t,r,n,o,a){var s,l,c=e-t,h=i.abs(c)/r;return a=void 0===a?6e-4:a,s=e+h*h/(2*a)*(0>c?-1:1),l=h/a,n>s?(s=o?n-o/2.5*(h/8):n,c=i.abs(s-e),l=c/h):s>0&&(s=o?o/2.5*(h/8):0,c=i.abs(e)+s,l=c/h),{destination:i.round(s),duration:l}};var s=r("transform");return n.extend(n,{hasTransform:s!==!1,hasPerspective:r("perspective")in o,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:r("transition")in o}),n.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),n.extend(n.style={},{transform:s,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")}),n.hasClass=function(e,t){return-1!=(" "+e.className+" ").indexOf(" "+t+" ")},n.addClass=function(e,t){if(!n.hasClass(e,t)){var i=e.className.split(" ");i.push(t),e.className=i.join(" ")}},n.removeClass=function(e,t){if(n.hasClass(e,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(i," ")}},n.offset=function(e){for(var t=-e.offsetLeft,i=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,i-=e.offsetTop;return{left:t,top:i}},n.preventDefaultException=function(e,t){for(var i in t)if(t[i].test(e[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return i.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,r=.4;return 0===e?0:1==e?1:r*i.pow(2,-10*e)*i.sin((e-t/4)*(2*i.PI)/t)+1}}}),n.tap=function(e,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0),r.pageX=e.pageX,r.pageY=e.pageY,e.target.dispatchEvent(r)},n.click=function(e){var i,r=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||(i=t.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,e.view,1,r.screenX,r.screenY,r.clientX,r.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i._constructed=!0,r.dispatchEvent(i))},n}();r.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if((1==s.eventType[e.type]||0===e.button)&&this.enabled&&(!this.initiated||s.eventType[e.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,r=e.touches?e.touches[0]:e;this.initiated=s.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,r,n,o,a=e.touches?e.touches[0]:e,l=a.pageX-this.pointX,c=a.pageY-this.pointY,h=s.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=c,n=i.abs(this.distX),o=i.abs(this.distY),!(h-this.endTime>300&&10>n&&10>o)){if(this.directionLocked||this.options.freeScroll||(n>o+this.options.directionLockThreshold?this.directionLocked="h":o>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,t=this.x+l,r=this.y+c,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+l/3:t>0?0:this.maxScrollX),(r>0||r<this.maxScrollY)&&(r=this.options.bounce?this.y+c/3:r>0?0:this.maxScrollY),this.directionX=l>0?-1:0>l?1:0,this.directionY=c>0?-1:0>c?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,r),h-this.startTime>300&&(this.startTime=h,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},silieUpDown:function(){var e=this.y;!this.hasVerticalScroll||e>0?this._execEvent("slideDown"):e<this.maxScrollY&&this._execEvent("slideUp")},_end:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,r,n=(e.changedTouches?e.changedTouches[0]:e,s.getTime()-this.startTime),o=i.round(this.x),a=i.round(this.y),l=i.abs(o-this.startX),c=i.abs(a-this.startY),h=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),this.resetPosition(this.options.bounceTime))return void this.silieUpDown();if(this.scrollTo(o,a),!this.moved)return this.options.tap&&s.tap(e,this.options.tap),this.options.click&&s.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&200>n&&100>l&&100>c)return void this._execEvent("flick");if(this.options.momentum&&300>n&&(t=this.hasHorizontalScroll?s.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},r=this.hasVerticalScroll?s.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},o=t.destination,a=r.destination,h=i.max(t.duration,r.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(o,a);this.currentPage=d,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-d.x),1e3),i.min(i.abs(a-d.y),1e3)),300),o=d.x,a=d.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return o!=this.x||a!=this.y?((o>0||o<this.maxScrollX||a>0||a<this.maxScrollY)&&(u=s.ease.quadratic),void this.scrollTo(o,a,h,u)):void this._execEvent("scrollEnd")}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,i=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y?!1:(this.scrollTo(t,i,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var i=this._events[e].indexOf(t);i>-1&&this._events[e].splice(i,1)}},_execEvent:function(e){if(this._events[e]){var t=0,i=this._events[e].length;if(i)for(;i>t;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,i,r){e=this.x+e,t=this.y+t,i=i||0,this.scrollTo(e,t,i,r)},scrollTo:function(e,t,i,r){r=r||s.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&r.style?(this._transitionTimingFunction(r.style),this._transitionTime(i),this._translate(e,t)):this._animate(e,t,i,r.fn)},scrollToElement:function(e,t,r,n,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var a=s.offset(e);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,r===!0&&(r=i.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=i.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=r||0,a.top-=n||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,t=void 0===t||null===t||"auto"===t?i.max(i.abs(this.x-a.left),i.abs(this.y-a.top)):t,this.scrollTo(a.left,a.top,t,o)}},_transitionTime:function(e){if(e=e||0,this.scrollerStyle[s.style.transitionDuration]=e+"ms",!e&&s.isBadAndroid&&(this.scrollerStyle[s.style.transitionDuration]="0.001s"),this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[s.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=i.round(e),t=i.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(t){var i=t?s.removeEvent:s.addEvent,r=this.options.bindToWrapper?this.wrapper:e;i(e,"orientationchange",this),i(e,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(r,"mousemove",this),i(r,"mousecancel",this),i(r,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,s.prefixPointerEvent("pointerdown"),this),i(r,s.prefixPointerEvent("pointermove"),this),i(r,s.prefixPointerEvent("pointercancel"),this),i(r,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(r,"touchmove",this),i(r,"touchcancel",this),i(r,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,i,r=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(r=r[s.style.transform].split(")")[0].split(", "),t=+(r[12]||r[4]),i=+(r[13]||r[5])):(t=+r.left.replace(/[^-\d.]/g,""),i=+r.top.replace(/[^-\d.]/g,"")),{x:t,y:i}},_initIndicators:function(){function e(e){for(var t=s.indicators.length;t--;)e.call(s.indicators[t])}var t,i=this.options.interactiveScrollbars,r="string"!=typeof this.options.scrollbars,a=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:n("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:r,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),a.push(t)),this.options.scrollX&&(t={el:n("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:r,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),a.push(t))),this.options.indicators&&(a=a.concat(this.options.indicators));for(var l=a.length;l--;)this.indicators.push(new o(this,a[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t,r,n,o,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("scrollEnd"),a.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,r=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,r=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,r=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=r=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=r=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=r,r=0),this.options.snap)return n=this.currentPage.pageX,o=this.currentPage.pageY,t>0?n--:0>t&&n++,r>0?o--:0>r&&o++,void this.goToPage(n,o);n=this.x+i.round(this.hasHorizontalScroll?t:0),o=this.y+i.round(this.hasVerticalScroll?r:0),n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(n,o,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,r,n,o,a,s=0,l=0,c=0,h=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(r=i.round(h/2),n=i.round(u/2);c>-this.scrollerWidth;){for(this.pages[s]=[],e=0,o=0;o>-this.scrollerHeight;)this.pages[s][e]={x:i.max(c,this.maxScrollX),y:i.max(o,this.maxScrollY),width:h,height:u,cx:c-r,cy:o-n},o-=u,e++;c-=h,s++}else for(a=this.options.snap,e=a.length,t=-1;e>s;s++)(0===s||a[s].offsetLeft<=a[s-1].offsetLeft)&&(l=0,t++),this.pages[l]||(this.pages[l]=[]),c=i.max(-a[s].offsetLeft,this.maxScrollX),o=i.max(-a[s].offsetTop,this.maxScrollY),r=c-i.round(a[s].offsetWidth/2),n=o-i.round(a[s].offsetHeight/2),this.pages[l][t]={x:c,y:o,width:a[s].offsetWidth,height:a[s].offsetHeight,cx:r,cy:n},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,n=this.pages.length,o=0;if(i.abs(e-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n>r;r++)if(e>=this.pages[r][0].cx){e=this.pages[r][0].x;break}for(n=this.pages[r].length;n>o;o++)if(t>=this.pages[0][o].cy){t=this.pages[0][o].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,0>r?r=0:r>=this.pages.length&&(r=this.pages.length-1),e=this.pages[r][0].x),o==this.currentPage.pageY&&(o+=this.directionY,0>o?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),t=this.pages[0][o].y),{x:e,y:t,pageX:r,pageY:o}},goToPage:function(e,t,r,n){n=n||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:0>e&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:0>t&&(t=0);var o=this.pages[e][t].x,a=this.pages[e][t].y;r=void 0===r?this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-this.x),1e3),i.min(i.abs(a-this.y),1e3)),300):r,this.currentPage={x:o,y:a,pageX:e,pageY:t},this.scrollTo(o,a,r,n)},next:function(e,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++),this.goToPage(i,r,e,t)},prev:function(e,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,r--),this.goToPage(i,r,e,t)},_initKeys:function(t){var i,r={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in r)this.options.keyBindings[i]=this.options.keyBindings[i]||r[i];s.addEvent(e,"keydown",this),this.on("destroy",function(){s.removeEvent(e,"keydown",this)})},_key:function(e){if(this.enabled){var t,r=this.options.snap,n=r?this.currentPage.pageX:this.x,o=r?this.currentPage.pageY:this.y,a=s.getTime(),l=this.keyTime||0,c=.25;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this.isInTransition=!1),this.keyAcceleration=200>a-l?i.min(this.keyAcceleration+c,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=r?1:this.wrapperWidth:o+=r?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=r?1:this.wrapperWidth:o-=r?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=r?this.pages.length-1:this.maxScrollX,o=r?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,o=0;break;case this.options.keyBindings.left:n+=r?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=r?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=r?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=r?1:5+this.keyAcceleration>>0;break;default:return}if(r)return void this.goToPage(n,o);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,o,0),this.keyTime=a}},_animate:function(e,t,i,r){function n(){var d,p,f,m=s.getTime();return m>=u?(o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(m=(m-h)/i,f=r(m),d=(e-l)*f+l,p=(t-c)*f+c,o._translate(d,p),o.isAnimating&&a(n),void(3==o.options.probeType&&o._execEvent("scroll")))}var o=this,l=this.x,c=this.y,h=s.getTime(),u=h+i;this.isAnimating=!0,n()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}}},o.prototype={
handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(e,"touchmove",this),s.removeEvent(e,s.prefixPointerEvent("pointermove"),this),s.removeEvent(e,"mousemove",this),s.removeEvent(e,"touchend",this),s.removeEvent(e,s.prefixPointerEvent("pointerup"),this),s.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(e,"touchmove",this),this.options.disablePointer||s.addEvent(e,s.prefixPointerEvent("pointermove"),this),this.options.disableMouse||s.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,i,r,n,o=e.touches?e.touches[0]:e,a=s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=o.pageX-this.lastPointX,this.lastPointX=o.pageX,i=o.pageY-this.lastPointY,this.lastPointY=o.pageY,r=this.x+t,n=this.y+i,this._pos(r,n),1==this.scroller.options.probeType&&a-this.startTime>300?(this.startTime=a,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),s.removeEvent(e,"touchmove",this),s.removeEvent(e,s.prefixPointerEvent("pointermove"),this),s.removeEvent(e,"mousemove",this),this.scroller.options.snap){var r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-r.x),1e3),i.min(i.abs(this.scroller.y-r.y),1e3)),300);this.scroller.x==r.x&&this.scroller.y==r.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0,this.indicatorStyle[s.style.transitionDuration]=e+"ms",!e&&s.isBadAndroid&&(this.indicatorStyle[s.style.transitionDuration]="0.001s")},transitionTimingFunction:function(e){this.indicatorStyle[s.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){0>e?e=0:e>this.maxPosX&&(e=this.maxPosX),0>t?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?i.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=e?250:500,r=e?0:300;e=e?"1":"0",this.wrapperStyle[s.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}}},r.utils=s,"undefined"!=typeof module&&module.exports?module.exports=r:e.IScroll=r}(window,document,Math);var Zepto=function(){function e(e){return null==e?String(e):$[Z.call(e)]||"object"}function t(t){return"function"==e(t)}function i(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function n(t){return"object"==e(t)}function o(e){return n(e)&&!i(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function s(e){return M.call(e,function(e){return null!=e})}function l(e){return e.length>0?_.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(e){return e in O?O[e]:O[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function u(e,t){return"number"!=typeof t||B[c(e)]?t:t+"px"}function d(e){var t,i;return z[e]||(t=C.createElement(e),C.body.appendChild(t),i=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==i&&(i="block"),z[e]=i),z[e]}function p(e){return"children"in e?A.call(e.children):_.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function f(e,t,i){for(S in t)i&&(o(t[S])||K(t[S]))?(o(t[S])&&!o(e[S])&&(e[S]={}),K(t[S])&&!K(e[S])&&(e[S]=[]),f(e[S],t[S],i)):t[S]!==w&&(e[S]=t[S])}function m(e,t){return null==t?_(e):_(e).filter(t)}function g(e,i,r,n){return t(i)?i.call(e,r,n):i}function v(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}function x(e,t){var i=e.className,r=i&&i.baseVal!==w;return t===w?r?i.baseVal:i:void(r?i.baseVal=t:e.className=t)}function y(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:/^0/.test(e)||isNaN(t=Number(e))?/^[\[\{]/.test(e)?_.parseJSON(e):e:t):e}catch(i){return e}}function b(e,t){t(e);for(var i=0,r=e.childNodes.length;r>i;i++)b(e.childNodes[i],t)}var w,S,_,P,T,E,k=[],A=k.slice,M=k.filter,C=window.document,z={},O={},B={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,D=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,F=/([A-Z])/g,X=["val","css","html","text","data","width","height","offset"],W=["after","prepend","before","append"],Y=C.createElement("table"),R=C.createElement("tr"),H={tr:C.createElement("tbody"),tbody:Y,thead:Y,tfoot:Y,td:R,th:R,"*":C.createElement("div")},U=/complete|loaded|interactive/,G=/^[\w-]*$/,$={},Z=$.toString,j={},V=C.createElement("div"),q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(e){return e instanceof Array};return j.matches=function(e,t){var i,r,n,o;return t&&e&&1===e.nodeType?(i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?i.call(e,t):(n=e.parentNode,o=!n,o&&(n=V).appendChild(e),r=~j.qsa(n,t).indexOf(e),o&&V.removeChild(e),r):!1},T=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},E=function(e){return M.call(e,function(t,i){return e.indexOf(t)==i})},j.fragment=function(e,t,i){var r,n,a;return D.test(e)&&(r=_(C.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(N,"<$1></$2>")),t===w&&(t=L.test(e)&&RegExp.$1),t in H||(t="*"),a=H[t],a.innerHTML=""+e,r=_.each(A.call(a.childNodes),function(){a.removeChild(this)})),o(i)&&(n=_(r),_.each(i,function(e,t){X.indexOf(e)>-1?n[e](t):n.attr(e,t)})),r},j.Z=function(e,t){return e=e||[],e.__proto__=_.fn,e.selector=t||"",e},j.isZ=function(e){return e instanceof j.Z},j.init=function(e,i){var r;if(!e)return j.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&L.test(e))r=j.fragment(e,RegExp.$1,i),e=null;else{if(i!==w)return _(i).find(e);r=j.qsa(C,e)}else{if(t(e))return _(C).ready(e);if(j.isZ(e))return e;if(K(e))r=s(e);else if(n(e))r=[e],e=null;else if(L.test(e))r=j.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==w)return _(i).find(e);r=j.qsa(C,e)}}return j.Z(r,e)},_=function(e,t){return j.init(e,t)},_.extend=function(e){var t,i=A.call(arguments,1);return"boolean"==typeof e&&(t=e,e=i.shift()),i.forEach(function(i){f(e,i,t)}),e},j.qsa=function(e,t){var i,n="#"==t[0],o=!n&&"."==t[0],a=n||o?t.slice(1):t,s=G.test(a);return r(e)&&s&&n?(i=e.getElementById(a))?[i]:[]:1!==e.nodeType&&9!==e.nodeType?[]:A.call(s&&!n?o?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},_.contains=C.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},_.type=e,_.isFunction=t,_.isWindow=i,_.isArray=K,_.isPlainObject=o,_.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},_.inArray=function(e,t,i){return k.indexOf.call(t,e,i)},_.camelCase=T,_.trim=function(e){return null==e?"":String.prototype.trim.call(e)},_.uuid=0,_.support={},_.expr={},_.map=function(e,t){var i,r,n,o=[];if(a(e))for(r=0;r<e.length;r++)i=t(e[r],r),null!=i&&o.push(i);else for(n in e)i=t(e[n],n),null!=i&&o.push(i);return l(o)},_.each=function(e,t){var i,r;if(a(e)){for(i=0;i<e.length;i++)if(t.call(e[i],i,e[i])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},_.grep=function(e,t){return M.call(e,t)},window.JSON&&(_.parseJSON=JSON.parse),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()}),_.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return _(_.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return _(A.apply(this,arguments))},ready:function(e){return U.test(C.readyState)&&C.body?e(_):C.addEventListener("DOMContentLoaded",function(){e(_)},!1),this},get:function(e){return e===w?A.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,i){return e.call(t,i,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):_(M.call(this,function(t){return j.matches(t,e)}))},add:function(e,t){return _(E(this.concat(_(e,t))))},is:function(e){return this.length>0&&j.matches(this[0],e)},not:function(e){var i,r=[];return t(e)&&e.call!==w?this.each(function(t){e.call(this,t)||r.push(this)}):(i="string"==typeof e?this.filter(e):a(e)&&t(e.item)?A.call(e):_(e),this.forEach(function(e){i.indexOf(e)<0&&r.push(e)})),_(r)},has:function(e){return this.filter(function(){return n(e)?_.contains(this,e):_(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!n(e)?e:_(e)},last:function(){var e=this[this.length-1];return e&&!n(e)?e:_(e)},find:function(e){var t,i=this;return t=e?"object"==typeof e?_(e).filter(function(){var e=this;return k.some.call(i,function(t){return _.contains(t,e)})}):1==this.length?_(j.qsa(this[0],e)):this.map(function(){return j.qsa(this,e)}):[]},closest:function(e,t){var i=this[0],n=!1;for("object"==typeof e&&(n=_(e));i&&!(n?n.indexOf(i)>=0:j.matches(i,e));)i=i!==t&&!r(i)&&i.parentNode;return _(i)},parents:function(e){for(var t=[],i=this;i.length>0;)i=_.map(i,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(E(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return A.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return M.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return _.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var i,r,n=t(e);return this[0]&&!n&&(i=_(e).get(0),r=i.parentNode||this.length>1),this.each(function(t){_(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){_(this[0]).before(e=_(e));for(var t;(t=e.children()).length;)e=t.first();_(e).append(this)}return this},wrapInner:function(e){var i=t(e);return this.each(function(t){var r=_(this),n=r.contents(),o=i?e.call(this,t):e;n.length?n.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){_(this).replaceWith(_(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=_(this);(e===w?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return _(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return _(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var i=this.innerHTML;_(this).empty().append(g(this,e,t,i))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var i=g(this,e,t,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this[0].textContent:null},attr:function(e,t){var i;return"string"!=typeof e||1 in arguments?this.each(function(i){if(1===this.nodeType)if(n(e))for(S in e)v(this,S,e[S]);else v(this,e,g(this,t,i,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(e))&&e in this[0]?this[0][e]:i:w},removeAttr:function(e){return this.each(function(){1===this.nodeType&&v(this,e)})},prop:function(e,t){return e=q[e]||e,1 in arguments?this.each(function(i){this[e]=g(this,t,i,this[e])}):this[0]&&this[0][e]},data:function(e,t){var i="data-"+e.replace(F,"-$1").toLowerCase(),r=1 in arguments?this.attr(i,t):this.attr(i);return null!==r?y(r):w},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?_(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var i=_(this),r=g(this,e,t,i.offset()),n=i.offsetParent().offset(),o={top:r.top-n.top,left:r.left-n.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,i){var r,n,o,a;if(arguments.length<2){if(r=this[0],n=getComputedStyle(r,""),!r)return;if("string"==typeof t)return r.style[T(t)]||n.getPropertyValue(t);if(K(t))return o={},_.each(K(t)?t:[t],function(e,t){o[t]=r.style[T(t)]||n.getPropertyValue(t)}),o}if(a="","string"==e(t))i||0===i?a=c(t)+":"+u(t,i):this.each(function(){this.style.removeProperty(c(t))});else for(S in t)t[S]||0===t[S]?a+=c(S)+":"+u(S,t[S])+";":this.each(function(){this.style.removeProperty(c(S))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(_(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?k.some.call(this,function(e){return this.test(x(e))},h(e)):!1},addClass:function(e){return e?this.each(function(t){P=[];var i=x(this),r=g(this,e,t,i);r.split(/\s+/g).forEach(function(e){_(this).hasClass(e)||P.push(e)},this),P.length&&x(this,i+(i?" ":"")+P.join(" "))}):this},removeClass:function(e){return this.each(function(t){return e===w?x(this,""):(P=x(this),g(this,e,t,P).split(/\s+/g).forEach(function(e){P=P.replace(h(e)," ")}),void x(this,P.trim()))})},toggleClass:function(e,t){return e?this.each(function(i){var r=_(this),n=g(this,e,i,x(this));n.split(/\s+/g).forEach(function(e){(t===w?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===w?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===w?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),i=this.offset(),r=I.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(_(e).css("margin-top"))||0,i.left-=parseFloat(_(e).css("margin-left"))||0,r.top+=parseFloat(_(t[0]).css("border-top-width"))||0,r.left+=parseFloat(_(t[0]).css("border-left-width"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||C.body;e&&!I.test(e.nodeName)&&"static"==_(e).css("position");)e=e.offsetParent;return e})}},_.fn.detach=_.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});_.fn[e]=function(n){var o,a=this[0];return n===w?i(a)?a["inner"+t]:r(a)?a.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){a=_(this),a.css(e,g(this,n,t,a[e]()))})}}),W.forEach(function(t,i){var r=i%2;_.fn[t]=function(){var t,n,o=_.map(arguments,function(i){return t=e(i),"object"==t||"array"==t||null==i?i:j.fragment(i)}),a=this.length>1;return o.length<1?this:this.each(function(e,t){n=r?t:t.parentNode,t=0==i?t.nextSibling:1==i?t.firstChild:2==i?t:null;var s=_.contains(C.documentElement,n);o.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!n)return _(e).remove();n.insertBefore(e,t),s&&b(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},_.fn[r?t+"To":"insert"+(i?"Before":"After")]=function(e){return _(e)[t](this),this}}),j.Z.prototype=_.fn,j.uniq=E,j.deserializeValue=y,_.zepto=j,_}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=g++)}function i(e,i,o,a){if(i=r(i),i.ns)var s=n(i.ns);return(b[t(e)]||[]).filter(function(e){return!(!e||i.e&&e.e!=i.e||i.ns&&!s.test(e.ns)||o&&t(e.fn)!==t(o)||a&&e.sel!=a)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!S&&e.e in _||!!t}function a(e){return P[e]||S&&_[e]||e}function s(i,n,s,l,h,d,p){var f=t(i),m=b[f]||(b[f]=[]);n.split(/\s/).forEach(function(t){var n,f;return"ready"==t?e(document).ready(s):(n=r(t),n.fn=s,n.sel=h,n.e in P&&(s=function(t){var i=t.relatedTarget;return!i||i!==this&&!e.contains(this,i)?n.fn.apply(this,arguments):void 0}),n.del=d,f=d||s,n.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=l;var t=f.apply(i,e._args==u?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},n.i=m.length,m.push(n),void("addEventListener"in i&&i.addEventListener(a(n.e),n.proxy,o(n,p))))})}function l(e,r,n,s,l){var c=t(e);(r||"").split(/\s/).forEach(function(t){i(e,t,n,s).forEach(function(t){delete b[c][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,o(t,l))})})}function c(t,i){return(i||!t.isDefaultPrevented)&&(i||(i=t),e.each(m,function(e,r){var n=i[e];t[e]=function(){return this[r]=d,n&&n.apply(i,arguments)},t[r]=p}),(i.defaultPrevented!==u?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(t.isDefaultPrevented=d)),t}function h(e){var t,i={originalEvent:e};for(t in e)f.test(t)||e[t]===u||(i[t]=e[t]);return c(i,e)}var u,d,p,f,m,g=1,v=Array.prototype.slice,x=e.isFunction,y=function(e){return"string"==typeof e},b={},w={},S="onfocusin"in window,_={focus:"focusin",blur:"focusout"},P={mouseenter:"mouseover",mouseleave:"mouseout"};w.click=w.mousedown=w.mouseup=w.mousemove="MouseEvents",e.event={add:s,remove:l},e.proxy=function(i,r){var n,o=2 in arguments&&v.call(arguments,2);if(x(i))return n=function(){return i.apply(r,o?o.concat(v.call(arguments)):arguments)},n._zid=t(i),n;if(y(r))return o?(o.unshift(i[r],i),e.proxy.apply(null,o)):e.proxy(i[r],i);throw new TypeError("expected function")},e.fn.bind=function(e,t,i){return this.on(e,t,i)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,i,r){return this.on(e,t,i,r,1)},d=function(){return!0},p=function(){return!1},f=/^([A-Z]|returnValue$|layer[XY]$)/,m={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},e.fn.delegate=function(e,t,i){return this.on(t,e,i)},e.fn.undelegate=function(e,t,i){return this.off(t,e,i)},e.fn.live=function(t,i){return e(document.body).delegate(this.selector,t,i),this},e.fn.die=function(t,i){return e(document.body).undelegate(this.selector,t,i),this},e.fn.on=function(t,i,r,n,o){var a,c,d=this;return t&&!y(t)?(e.each(t,function(e,t){d.on(e,i,r,t,o)}),d):(y(i)||x(n)||n===!1||(n=r,r=i,i=u),(x(r)||r===!1)&&(n=r,r=u),n===!1&&(n=p),d.each(function(u,d){o&&(a=function(e){return l(d,e.type,n),n.apply(this,arguments)}),i&&(c=function(t){var r,o=e(t.target).closest(i,d).get(0);return o&&o!==d?(r=e.extend(h(t),{currentTarget:o,liveFired:d}),(a||n).apply(o,[r].concat(v.call(arguments,1)))):void 0}),s(d,t,n,r,i,c||a)}))},e.fn.off=function(t,i,r){var n=this;return t&&!y(t)?(e.each(t,function(e,t){n.off(e,i,t)}),n):(y(i)||x(r)||r===!1||(r=i,i=u),r===!1&&(r=p),n.each(function(){l(this,t,r,i)}))},e.fn.trigger=function(t,i){return t=y(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=i,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,i)})},e.fn.triggerHandler=function(t,r){var n,o;return this.each(function(a,s){n=h(y(t)?e.Event(t):t),n._args=r,n.target=s,e.each(i(s,t.type||t),function(e,t){return o=t.proxy(n),n.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){var i,r,n;if(y(e)||(t=e,e=t.type),i=document.createEvent(w[e]||"Events"),r=!0,t)for(n in t)"bubbles"==n?r=!!t[n]:i[n]=t[n];return i.initEvent(e,r,!0),c(i)}}(Zepto),function(e){function t(t,i,r){var n=e.Event(i);return e(t).trigger(n,r),!n.isDefaultPrevented()}function i(e,i,r,n){return e.global?t(i||y,r,n):void 0}function r(t){t.global&&0===e.active++&&i(t,null,"ajaxStart")}function n(t){t.global&&!--e.active&&i(t,null,"ajaxStop")}function o(e,t){var r=t.context;return t.beforeSend.call(r,e,t)===!1||i(t,r,"ajaxBeforeSend",[e,t])===!1?!1:void i(t,r,"ajaxSend",[e,t])}function a(e,t,r,n){var o=r.context,a="success";r.success.call(o,e,a,t),n&&n.resolveWith(o,[e,a,t]),i(r,o,"ajaxSuccess",[t,r,e]),l(a,t,r)}function s(e,t,r,n,o){var a=n.context;n.error.call(a,r,t,e),o&&o.rejectWith(a,[r,t,e]),i(n,a,"ajaxError",[r,n,e||t]),l(t,r,n)}function l(e,t,r){var o=r.context;r.complete.call(o,t,e),i(r,o,"ajaxComplete",[t,r]),n(r)}function c(){}function h(e){return e&&(e=e.split(";",2)[0]),e&&(e==P?"html":e==_?"json":w.test(e)?"script":S.test(e)&&"xml")||"text"}function u(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=u(t.url,t.data),t.data=void 0)}function p(t,i,r,n){return e.isFunction(i)&&(n=r,r=i,i=void 0),e.isFunction(r)||(n=r,r=void 0),{url:t,data:i,success:r,dataType:n}}function f(t,i,r,n){var o,a=e.isArray(i),s=e.isPlainObject(i);e.each(i,function(i,l){o=e.type(l),n&&(i=r?n:n+"["+(s||"object"==o||"array"==o?i:"")+"]"),!n&&a?t.add(l.name,l.value):"array"==o||!r&&"object"==o?f(t,l,r,i):t.add(i,l)})}var m,g,v,x=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,_="application/json",P="text/html",T=/^\s*$/;e.active=0,e.ajaxJSONP=function(t,i){if(!("type"in t))return e.ajax(t);var r,n,l=t.jsonpCallback,c=(e.isFunction(l)?l():l)||"jsonp"+ ++x,h=y.createElement("script"),u=window[c],d=function(t){e(h).triggerHandler("error",t||"abort")},p={abort:d};return i&&i.promise(p),e(h).on("load error",function(o,l){clearTimeout(n),e(h).off().remove(),"error"!=o.type&&r?a(r[0],p,t,i):s(null,l||"error",p,t,i),window[c]=u,r&&e.isFunction(u)&&u(r[0]),u=r=void 0}),o(p,t)===!1?(d("abort"),p):(window[c]=function(){r=arguments},h.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(h),t.timeout>0&&(n=setTimeout(function(){d("timeout")},t.timeout)),p)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:_,xml:"application/xml, text/xml",html:P,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var i,n,l,p,f,v,x,y,b,w,S=e.extend({},t||{}),_=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===S[m]&&(S[m]=e.ajaxSettings[m]);if(r(S),S.crossDomain||(S.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(S.url)&&RegExp.$2!=window.location.host),S.url||(S.url=window.location.toString()),d(S),i=S.dataType,n=/\?.+=\?/.test(S.url),n&&(i="jsonp"),S.cache!==!1&&(t&&t.cache===!0||"script"!=i&&"jsonp"!=i)||(S.url=u(S.url,"_="+Date.now())),"jsonp"==i)return n||(S.url=u(S.url,S.jsonp?S.jsonp+"=?":S.jsonp===!1?"":"callback=?")),e.ajaxJSONP(S,_);if(p=S.accepts[i],f={},v=function(e,t){f[e.toLowerCase()]=[e,t]},x=/^([\w-]+:)\/\//.test(S.url)?RegExp.$1:window.location.protocol,y=S.xhr(),b=y.setRequestHeader,_&&_.promise(y),S.crossDomain||v("X-Requested-With","XMLHttpRequest"),v("Accept",p||"*/*"),(p=S.mimeType||p)&&(p.indexOf(",")>-1&&(p=p.split(",",2)[0]),y.overrideMimeType&&y.overrideMimeType(p)),(S.contentType||S.contentType!==!1&&S.data&&"GET"!=S.type.toUpperCase())&&v("Content-Type",S.contentType||"application/x-www-form-urlencoded"),S.headers)for(g in S.headers)v(g,S.headers[g]);if(y.setRequestHeader=v,y.onreadystatechange=function(){if(4==y.readyState){y.onreadystatechange=c,clearTimeout(l);var t,r=!1;if(y.status>=200&&y.status<300||304==y.status||0==y.status&&"file:"==x){i=i||h(S.mimeType||y.getResponseHeader("content-type")),t=y.responseText;try{"script"==i?(0,eval)(t):"xml"==i?t=y.responseXML:"json"==i&&(t=T.test(t)?null:e.parseJSON(t))}catch(n){r=n}r?s(r,"parsererror",y,S,_):a(t,y,S,_)}else s(y.statusText||null,y.status?"error":"abort",y,S,_)}},o(y,S)===!1)return y.abort(),s(null,"abort",y,S,_),y;if(S.xhrFields)for(g in S.xhrFields)y[g]=S.xhrFields[g];w="async"in S?S.async:!0,y.open(S.type,S.url,w,S.username,S.password);for(g in f)b.apply(y,f[g]);return S.timeout>0&&(l=setTimeout(function(){y.onreadystatechange=c,y.abort(),s(null,"timeout",y,S,_)},S.timeout)),y.send(S.data?S.data:null),y},e.get=function(){return e.ajax(p.apply(null,arguments))},e.post=function(){var t=p.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=p.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,i,r){if(!this.length)return this;var n,o=this,a=t.split(/\s/),s=p(t,i,r),l=s.success;return a.length>1&&(s.url=a[0],n=a[1]),s.success=function(t){o.html(n?e("<div>").html(t.replace(b,"")).find(n):t),l&&l.apply(o,arguments)},e.ajax(s),this},v=encodeURIComponent,e.param=function(e,t){var i=[];return i.add=function(e,t){this.push(v(e)+"="+v(t))},f(i,e,t),i.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t,i=[];return e([].slice.call(this.get(0).elements)).each(function(){t=e(this);var r=t.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&("radio"!=r&&"checkbox"!=r||this.checked)&&i.push({name:t.attr("name"),value:t.val()})}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var i=e.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,i){return t=t||[],e.extend(t,e.fn),t.selector=i||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t;
}});try{getComputedStyle(void 0)}catch(t){var i=getComputedStyle;window.getComputedStyle=function(e){try{return i(e)}catch(t){return null}}}}(Zepto),function(e){function t(e){var t=this.os={},i=this.browser={},r=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),n=e.match(/(Android);?[\s\/]+([\d.]+)?/),o=!!e.match(/\(Macintosh\; Intel /),a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/),c=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=e.match(/Windows Phone ([\d.]+)/),u=c&&e.match(/TouchPad/),d=e.match(/Kindle\/([\d.]+)/),p=e.match(/Silk\/([\d._]+)/),f=e.match(/(BlackBerry).*Version\/([\d.]+)/),m=e.match(/(BB10).*Version\/([\d.]+)/),g=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),v=e.match(/PlayBook/),x=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),y=e.match(/Firefox\/([\d.]+)/),b=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),w=!x&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),S=w||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!r)&&(i.version=r[1]),n&&(t.android=!0,t.version=n[2]),l&&!s&&(t.ios=t.iphone=!0,t.version=l[2].replace(/_/g,".")),a&&(t.ios=t.ipad=!0,t.version=a[2].replace(/_/g,".")),s&&(t.ios=t.ipod=!0,t.version=s[3]?s[3].replace(/_/g,"."):null),h&&(t.wp=!0,t.version=h[1]),c&&(t.webos=!0,t.version=c[2]),u&&(t.touchpad=!0),f&&(t.blackberry=!0,t.version=f[2]),m&&(t.bb10=!0,t.version=m[2]),g&&(t.rimtabletos=!0,t.version=g[2]),v&&(i.playbook=!0),d&&(t.kindle=!0,t.version=d[1]),p&&(i.silk=!0,i.version=p[1]),!p&&t.android&&e.match(/Kindle Fire/)&&(i.silk=!0),x&&(i.chrome=!0,i.version=x[1]),y&&(i.firefox=!0,i.version=y[1]),b&&(i.ie=!0,i.version=b[1]),S&&(o||t.ios)&&(i.safari=!0,o&&(i.version=S[1])),w&&(i.webview=!0),t.tablet=!!(a||v||n&&!e.match(/Mobile/)||y&&e.match(/Tablet/)||b&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(n||l||c||f||m||x&&e.match(/Android/)||x&&e.match(/CriOS\/([\d.]+)/)||y&&e.match(/Mobile/)||b&&e.match(/Touch/)))}t.call(e,navigator.userAgent),e.__detect=t}(Zepto),function(e){function t(e,t,i,r){return Math.abs(e-t)>=Math.abs(i-r)?e-t>0?"Left":"Right":i-r>0?"Up":"Down"}function i(){h=null,d.last&&(d.el.trigger("longTap"),d={})}function r(){h&&clearTimeout(h),h=null}function n(){s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),h&&clearTimeout(h),s=l=c=h=null,d={}}function o(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function a(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var s,l,c,h,u,d={},p=750;e(document).ready(function(){var f,m,g,v,x=0,y=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(d.el.trigger("swipe"),d.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(!(v=a(t,"down"))||o(t))&&(g=v?t:t.touches[0],t.touches&&1===t.touches.length&&d.x2&&(d.x2=void 0,d.y2=void 0),f=Date.now(),m=f-(d.last||f),d.el=e("tagName"in g.target?g.target:g.target.parentNode),s&&clearTimeout(s),d.x1=g.pageX,d.y1=g.pageY,m>0&&250>=m&&(d.isDoubleTap=!0),d.last=f,h=setTimeout(i,p),u&&v&&u.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(v=a(e,"move"))||o(e))&&(g=v?e:e.touches[0],r(),d.x2=g.pageX,d.y2=g.pageY,x+=Math.abs(d.x1-d.x2),y+=Math.abs(d.y1-d.y2))}).on("touchend MSPointerUp pointerup",function(i){(!(v=a(i,"up"))||o(i))&&(r(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?c=setTimeout(function(){d.el.trigger("swipe"),d.el.trigger("swipe"+t(d.x1,d.x2,d.y1,d.y2)),d={}},0):"last"in d&&(30>x&&30>y?l=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=n,d.el.trigger(t),d.isDoubleTap?(d.el&&d.el.trigger("doubleTap"),d={}):s=setTimeout(function(){s=null,d.el&&d.el.trigger("singleTap"),d={}},250)},0):d={}),x=y=0)}).on("touchcancel MSPointerCancel pointercancel",n),e(window).on("scroll",n)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),function(e){function t(t,r){var l,c=t[s],h=c&&n[c];if(void 0===r)return h||i(t);if(h){if(r in h)return h[r];if(l=a(r),l in h)return h[l]}return o.call(e(t),r)}function i(t,i,o){var l=t[s]||(t[s]=++e.uuid),c=n[l]||(n[l]=r(t));return void 0!==i&&(c[a(i)]=o),c}function r(t){var i={};return e.each(t.attributes||l,function(t,r){0==r.name.indexOf("data-")&&(i[a(r.name.replace("data-",""))]=e.zepto.deserializeValue(r.value))}),i}var n={},o=e.fn.data,a=e.camelCase,s=e.expando="Zepto"+ +new Date,l=[];e.fn.data=function(r,n){return void 0===n?e.isPlainObject(r)?this.each(function(t,n){e.each(r,function(e,t){i(n,e,t)})}):0 in this?t(this[0],r):void 0:this.each(function(){i(this,r,n)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var i=this[s],r=i&&n[i];r&&e.each(t||r,function(e){delete r[t?a(this):e]})})},["remove","empty"].forEach(function(t){var i=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),i.call(this)}})}(Zepto),function(e,t){function i(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return n?n+e:e.toLowerCase()}var n,o,a,s,l,c,h,u,d,p,f="",m={Webkit:"webkit",Moz:"",O:"o"},g=window.document,v=g.createElement("div"),x=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};e.each(m,function(e,i){return v.style[e+"TransitionProperty"]!==t?(f="-"+e.toLowerCase()+"-",n=i,!1):void 0}),o=f+"transform",y[a=f+"transition-property"]=y[s=f+"transition-duration"]=y[c=f+"transition-delay"]=y[l=f+"transition-timing-function"]=y[h=f+"animation-name"]=y[u=f+"animation-duration"]=y[p=f+"animation-delay"]=y[d=f+"animation-timing-function"]="",e.fx={off:n===t&&v.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:f,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(i,r,n,o,a){return e.isFunction(r)&&(o=r,n=t,r=t),e.isFunction(n)&&(o=n,n=t),e.isPlainObject(r)&&(n=r.easing,o=r.complete,a=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(i,r,n,o,a)},e.fn.anim=function(r,n,f,m,g){var v,b,w,S={},_="",P=this,T=e.fx.transitionEnd,E=!1;if(n===t&&(n=e.fx.speeds._default/1e3),g===t&&(g=0),e.fx.off&&(n=0),"string"==typeof r)S[h]=r,S[u]=n+"s",S[p]=g+"s",S[d]=f||"linear",T=e.fx.animationEnd;else{b=[];for(v in r)x.test(v)?_+=v+"("+r[v]+") ":(S[v]=r[v],b.push(i(v)));_&&(S[o]=_,b.push(o)),n>0&&"object"==typeof r&&(S[a]=b.join(", "),S[s]=n+"s",S[c]=g+"s",S[l]=f||"linear")}return w=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(T,w)}else e(this).unbind(T,w);E=!0,e(this).css(y),m&&m.call(this)},n>0&&(this.bind(T,w),setTimeout(function(){E||w.call(P)},1e3*n+25)),this.size()&&this.get(0).clientLeft,this.css(S),0>=n&&setTimeout(function(){P.each(function(){w.call(this)})},0),this},v=null}(Zepto),function(){function e(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}function t(e,i,r){return("string"==typeof i?i:i.toString()).replace(e.define||a,function(t,i,n,o){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in r||(":"===n?(e.defineParams&&o.replace(e.defineParams,function(e,t,n){r[i]={arg:t,text:n}}),i in r||(r[i]=o)):new Function("def","def['"+i+"']="+o)(r)),""}).replace(e.use||a,function(i,n){e.useParams&&(n=n.replace(e.useParams,function(e,t,i,n){return r[i]&&r[i].arg&&n?(e=(i+":"+n).replace(/'|\\/g,"_"),r.__exp=r.__exp||{},r.__exp[e]=r[i].text.replace(RegExp("(^|[^\\w$])"+r[i].arg+"([^\\w$])","g"),"$1"+n+"$2"),t+"def.__exp['"+e+"']"):void 0}));var o=new Function("def","return "+n)(r);return o?t(e,o,r):o})}function i(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var r,n={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):(r=function(){return this||(0,eval)("this")}(),r.doT=n),String.prototype.encodeHTML=e();var o={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},a=/$^/;n.template=function(r,s,l){s=s||n.templateSettings;var c,h,u=s.append?o.append:o.split,d=0;r=s.use||s.define?t(s,r,l||{}):r,r=("var out='"+(s.strip?r.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):r).replace(/'|\\/g,"\\$&").replace(s.interpolate||a,function(e,t){return u.start+i(t)+u.end}).replace(s.encode||a,function(e,t){return c=!0,u.start+i(t)+u.endencode}).replace(s.conditional||a,function(e,t,r){return t?r?"';}else if("+i(r)+"){out+='":"';}else{out+='":r?"';if("+i(r)+"){out+='":"';}out+='"}).replace(s.iterate||a,function(e,t,r,n){return t?(d+=1,h=n||"i"+d,t=i(t),"';var arr"+d+"="+t+";if(arr"+d+"){var "+r+","+h+"=-1,l"+d+"=arr"+d+".length-1;while("+h+"<l"+d+"){"+r+"=arr"+d+"["+h+"+=1];out+='"):"';} } out+='"}).replace(s.evaluate||a,function(e,t){return"';"+i(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),c&&s.selfcontained&&(r="String.prototype.encodeHTML=("+e.toString()+"());"+r);try{return new Function(s.varname,r)}catch(p){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+r),p}},n.compile=function(e,t){return n.template(e,null,t)}}(),function(){function e(e){return!!e.exifdata}function t(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(e),r=i.length,n=new ArrayBuffer(r),o=new Uint8Array(n),a=0;r>a;a++)o[a]=i.charCodeAt(a);return n}function i(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){(200==this.status||0===this.status)&&t(this.response)},i.send()}function r(e,r){function n(t){var i=o(t),n=a(t);e.exifdata=i||{},e.iptcdata=n||{},r&&r.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var s=t(e.src);n(s)}else if(/^blob\:/i.test(e.src)){var l=new FileReader;l.onload=function(e){n(e.target.result)},i(e.src,function(e){l.readAsArrayBuffer(e)})}else{var c=new XMLHttpRequest;c.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(c.response),c=null},c.open("GET",e.src,!0),c.responseType="arraybuffer",c.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var l=new FileReader;l.onload=function(e){d&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},l.readAsArrayBuffer(e)}}function o(e){var t=new DataView(e);if(d&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var i,r=2,n=e.byteLength;n>r;){if(255!=t.getUint8(r))return d&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(i=t.getUint8(r+1),d&&console.log(i),225==i)return d&&console.log("Found 0xFFE1 marker"),u(t,r+4,t.getUint16(r+2)-2);r+=2+t.getUint16(r+2)}}function a(e){var t=new DataView(e);if(d&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var i=2,r=e.byteLength,n=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};r>i;){if(n(t,i)){var o=t.getUint8(i+7);o%2!==0&&(o+=1),0===o&&(o=4);var a=i+8+o,l=t.getUint16(i+6+o);return s(e,a,l)}i++}}function s(e,t,i){for(var r,n,o,a,s,l=new DataView(e),c={},u=t;t+i>u;)28===l.getUint8(u)&&2===l.getUint8(u+1)&&(a=l.getUint8(u+2),a in y&&(o=l.getInt16(u+3),s=o+5,n=y[a],r=h(l,u+5,o),c.hasOwnProperty(n)?c[n]instanceof Array?c[n].push(r):c[n]=[c[n],r]:c[n]=r)),u++;return c}function l(e,t,i,r,n){var o,a,s,l=e.getUint16(i,!n),h={};for(s=0;l>s;s++)o=i+12*s+2,a=r[e.getUint16(o,!n)],!a&&d&&console.log("Unknown tag: "+e.getUint16(o,!n)),h[a]=c(e,o,t,i,n);return h}function c(e,t,i,r,n){var o,a,s,l,c,u,d=e.getUint16(t+2,!n),p=e.getUint32(t+4,!n),f=e.getUint32(t+8,!n)+i;switch(d){case 1:case 7:if(1==p)return e.getUint8(t+8,!n);for(o=p>4?f:t+8,a=[],l=0;p>l;l++)a[l]=e.getUint8(o+l);return a;case 2:return o=p>4?f:t+8,h(e,o,p-1);case 3:if(1==p)return e.getUint16(t+8,!n);for(o=p>2?f:t+8,a=[],l=0;p>l;l++)a[l]=e.getUint16(o+2*l,!n);return a;case 4:if(1==p)return e.getUint32(t+8,!n);for(a=[],l=0;p>l;l++)a[l]=e.getUint32(f+4*l,!n);return a;case 5:if(1==p)return c=e.getUint32(f,!n),u=e.getUint32(f+4,!n),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(a=[],l=0;p>l;l++)c=e.getUint32(f+8*l,!n),u=e.getUint32(f+4+8*l,!n),a[l]=new Number(c/u),a[l].numerator=c,a[l].denominator=u;return a;case 9:if(1==p)return e.getInt32(t+8,!n);for(a=[],l=0;p>l;l++)a[l]=e.getInt32(f+4*l,!n);return a;case 10:if(1==p)return e.getInt32(f,!n)/e.getInt32(f+4,!n);for(a=[],l=0;p>l;l++)a[l]=e.getInt32(f+8*l,!n)/e.getInt32(f+4+8*l,!n);return a}}function h(e,t,i){var r="";for(n=t;n<t+i;n++)r+=String.fromCharCode(e.getUint8(n));return r}function u(e,t){if("Exif"!=h(e,t,4))return d&&console.log("Not valid EXIF data! "+h(e,t,4)),!1;var i,r,n,o,a,s=t+6;if(18761==e.getUint16(s))i=!1;else{if(19789!=e.getUint16(s))return d&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=e.getUint16(s+2,!i))return d&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=e.getUint32(s+4,!i);if(8>c)return d&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!i)),!1;if(r=l(e,s,s+c,g,i),r.ExifIFDPointer){o=l(e,s,s+r.ExifIFDPointer,m,i);for(n in o){switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[n]=x[n][o[n]];break;case"ExifVersion":case"FlashpixVersion":o[n]=String.fromCharCode(o[n][0],o[n][1],o[n][2],o[n][3]);break;case"ComponentsConfiguration":o[n]=x.Components[o[n][0]]+x.Components[o[n][1]]+x.Components[o[n][2]]+x.Components[o[n][3]]}r[n]=o[n]}}if(r.GPSInfoIFDPointer){a=l(e,s,s+r.GPSInfoIFDPointer,v,i);for(n in a){switch(n){case"GPSVersionID":a[n]=a[n][0]+"."+a[n][1]+"."+a[n][2]+"."+a[n][3]}r[n]=a[n]}}return r}var d=!1,p=this,f=function(e){return e instanceof f?e:this instanceof f?void(this.EXIFwrapped=e):new f(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports.EXIF=f):p.EXIF=f;var m=f.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},g=f.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},v=f.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},x=f.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},y={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};f.getData=function(t,i){return(t instanceof Image||t instanceof HTMLImageElement)&&!t.complete?!1:(e(t)?i&&i.call(t):r(t,i),!0)},f.getTag=function(t,i){return e(t)?t.exifdata[i]:void 0},f.getAllTags=function(t){if(!e(t))return{};var i,r=t.exifdata,n={};for(i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n},f.pretty=function(t){if(!e(t))return"";var i,r=t.exifdata,n="";for(i in r)r.hasOwnProperty(i)&&(n+="object"==typeof r[i]?r[i]instanceof Number?i+" : "+r[i]+" ["+r[i].numerator+"/"+r[i].denominator+"]\r\n":i+" : ["+r[i].length+" values]\r\n":i+" : "+r[i]+"\r\n");return n},f.readFromBinaryFile=function(e){return o(e)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return f})}.call(this),!function(e){Array.prototype.map||(Array.prototype.map=function(e,t){var i,r,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(t&&(i=t),r=Array(a),n=0;a>n;){var s,l;n in o&&(s=o[n],l=e.call(i,s,n,o),r[n]=l),n++}return r});var t=e.detect=function(){var e=function(){},t={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0
},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};e.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],e.types=["browser","os","device"],e.regexes=t||function(){var t={};return e.parsers.map(function(e){t[e]=[]}),t}(),e.families=function(){var t={};return e.types.map(function(e){t[e]=[]}),t}();var i=Array.prototype,r=(Object.prototype,Function.prototype,i.forEach);i.indexOf;var n=function(e,t){for(var i={},r=0;t.length>r&&!(i=t[r](e));r++);return i},o=function(e,t){a(e,function(e){a(t,function(t){delete e[t]})})},a=forEach=function(e,t,i){if(null!=e)if(r&&e.forEach===r)e.forEach(t,i);else if(e.length===+e.length)for(var n=0,o=e.length;o>n;n++)t.call(i,e[n],n,e);else for(var a in e)_.has(e,a)&&t.call(i,e[a],a,e)},s=function(e){return!(!e||void 0===e||null==e)},l=function(e){var t="";return e=e||{},s(e)&&s(e.major)&&(t+=e.major,s(e.minor)&&(t+="."+e.minor,s(e.patch)&&(t+="."+e.patch))),t},c=function(e){e=e||{};var t=l(e);return t&&(t=" "+t),e&&s(e.family)?e.family+t:""};return e.parse=function(t){var i=function(t){return e.regexes[t+"_parsers"].map(function(e){function i(t){var i=t.match(r);if(!i)return null;var a={};return a.family=(n?n.replace("$1",i[1]):i[1])||"other",a.major=parseInt(o?o:i[2])||null,a.minor=i[3]?parseInt(i[3]):null,a.patch=i[4]?parseInt(i[4]):null,a.tablet=e.tablet,a.man=e.manufacturer||null,a}var r=RegExp(e.regex),n=e[("browser"===t?"family":t)+"_replacement"],o=e.major_version_replacement;return i})},r=function(){},a=i("browser"),h=i("os"),u=i("device"),d=new r;d.source=t,d.browser=n(t,a),s(d.browser)?(d.browser.name=c(d.browser),d.browser.version=l(d.browser)):d.browser={},d.os=n(t,h),s(d.os)?(d.os.name=c(d.os),d.os.version=l(d.os)):d.os={},d.device=n(t,u),s(d.device)?(d.device.name=c(d.device),d.device.version=l(d.device)):d.device={tablet:!1,family:"Other"};var p={};return e.regexes.mobile_browser_families.map(function(e){p[e]=!0}),e.regexes.mobile_os_families.map(function(e){p[e]=!0}),d.device.type="Spider"===d.browser.family?"Spider":d.browser.tablet||d.os.tablet||d.device.tablet?"Tablet":p.hasOwnProperty(d.browser.family)?"Mobile":"Desktop",d.device.manufacturer=d.browser.man||d.os.man||d.device.man||null,o([d.browser,d.os,d.device],["tablet","man"]),d},e}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.detect=t):e.detect=t,"function"==typeof define&&define.amd&&define(function(){return t})}(window),function(){function e(e){var t=e.naturalWidth,i=e.naturalHeight;if(t*i>1048576){var r=document.createElement("canvas");r.width=r.height=1;var n=r.getContext("2d");return n.drawImage(e,-t+1,0),0===n.getImageData(0,0,1,1).data[3]}return!1}function t(e,t,i){var r=document.createElement("canvas");r.width=1,r.height=i;var n=r.getContext("2d");n.drawImage(e,0,0);for(var o=n.getImageData(0,0,1,i).data,a=0,s=i,l=i;l>a;){var c=o[4*(l-1)+3];0===c?s=l:a=l,l=s+a>>1}var h=l/i;return 0===h?1:h}function i(e,t,i){var n=document.createElement("canvas");return r(e,n,t,i),n.toDataURL("image/jpeg",t.quality||.8)}function r(i,r,o,a){var s=i.naturalWidth,l=i.naturalHeight;if(s+l){var c=o.width,h=o.height,u=r.getContext("2d");u.save(),n(r,u,c,h,o.orientation);var d=e(i);d&&(s/=2,l/=2);var p=1024,f=document.createElement("canvas");f.width=f.height=p;for(var m=f.getContext("2d"),g=a?t(i,s,l):1,v=Math.ceil(p*c/s),x=Math.ceil(p*h/l/g),y=0,b=0;l>y;){for(var w=0,S=0;s>w;)m.clearRect(0,0,p,p),m.drawImage(i,-w,-y),u.drawImage(f,0,0,p,p,S,b,v,x),w+=p,S+=v;y+=p,b+=x}u.restore(),f=m=null}}function n(e,t,i,r,n){switch(n){case 5:case 6:case 7:case 8:e.width=r,e.height=i;break;default:e.width=i,e.height=r}switch(n){case 2:t.translate(i,0),t.scale(-1,1);break;case 3:t.translate(i,r),t.rotate(Math.PI);break;case 4:t.translate(0,r),t.scale(1,-1);break;case 5:t.rotate(.5*Math.PI),t.scale(1,-1);break;case 6:t.rotate(.5*Math.PI),t.translate(0,-r);break;case 7:t.rotate(.5*Math.PI),t.translate(i,-r),t.scale(-1,1);break;case 8:t.rotate(-.5*Math.PI),t.translate(-i,0)}}function o(e){if(window.Blob&&e instanceof Blob){if(!a)throw Error("No createObjectURL function found to create blob url");var t=new Image;t.src=a.createObjectURL(e),this.blob=e,e=t}if(!e.naturalWidth&&!e.naturalHeight){var i=this;e.onload=e.onerror=function(){var e=i.imageLoadListeners;if(e){i.imageLoadListeners=null;for(var t=0,r=e.length;r>t;t++)e[t]()}},this.imageLoadListeners=[]}this.srcImage=e}var a=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;o.prototype.render=function(e,t,n){if(this.imageLoadListeners){var o=this;return void this.imageLoadListeners.push(function(){o.render(e,t,n)})}t=t||{};var s=this.srcImage.naturalWidth,l=this.srcImage.naturalHeight,c=t.width,h=t.height,u=t.maxWidth,d=t.maxHeight,p=!this.blob||"image/jpeg"===this.blob.type;c&&!h?h=l*c/s<<0:h&&!c?c=s*h/l<<0:(c=s,h=l),u&&c>u&&(c=u,h=l*c/s<<0),d&&h>d&&(h=d,c=s*h/l<<0);var f={width:c,height:h};for(var m in t)f[m]=t[m];var g=e.tagName.toLowerCase();"img"===g?e.src=i(this.srcImage,f,p):"canvas"===g&&r(this.srcImage,e,f,p),"function"==typeof this.onrender&&this.onrender(e),n&&n(),this.blob&&(this.blob=null,a.revokeObjectURL(this.srcImage.src))},"function"==typeof define&&define.amd?define([],function(){return o}):this.MegaPixImage=o}(),!function(){function e(e,t,i){if(this.file=e,this.callback=i,this.defaults={quality:.7},i){for(var r in t)this.defaults[r]=t[r];this.defaults.quality>1&&(this.defaults.quality=1)}else this.callback=t;this.results={origin:null,base64:null,base64Len:null},this.init()}window.URL=window.URL||window.webkitURL;var t=detect.parse(navigator.userAgent);e.prototype={constructor:e,init:function(){var e=this;e.create(e.file,e.callback)},create:function(e,i){var r=this,n=new Image,o=r.results,a="string"==typeof e?e:URL.createObjectURL(e);n.crossOrigin="*",n.onload=function(){function s(e){h=null,n=null,URL.revokeObjectURL(a),e.base64Len=e.base64.length,i(e)}var l,c=r.resize(this),h=document.createElement("canvas");if(h.width=c.w,h.height=c.h,l=h.getContext("2d"),l.fillStyle="#fff",l.fillRect(0,0,c.w,c.h),o.origin=e,"Android"===t.os.family){if(l.drawImage(n,0,0,c.w,c.h),+t.os.version<4.5){var u=new JPEGEncoder;o.base64=u.encode(l.getImageData(0,0,h.width,h.height),100*r.defaults.quality)}else o.base64=h.toDataURL("image/jpeg",r.defaults.quality);s(o)}else"iOS"===t.os.family&&+t.os.version<8?EXIF.getData(n,function(){var e=EXIF.getTag(this,"Orientation"),t=new MegaPixImage(n);t.render(h,{width:h.width,height:h.height,orientation:e}),o.base64=h.toDataURL("image/jpeg",r.defaults.quality),s(o)}):EXIF.getData(n,function(){var e=EXIF.getTag(this,"Orientation");switch(e){case 3:l.rotate(180*Math.PI/180),l.drawImage(n,-c.w,-c.h,c.w,c.h);break;case 6:h.width=c.h,h.height=c.w,l.rotate(90*Math.PI/180),l.drawImage(n,0,-c.h,c.w,c.h);break;case 8:h.width=c.h,h.height=c.w,l.rotate(270*Math.PI/180),l.drawImage(n,-c.w,0,c.w,c.h);break;default:l.drawImage(n,0,0,c.w,c.h)}o.base64=h.toDataURL("image/jpeg",r.defaults.quality),s(o)})},n.src=a},resize:function(e){var t=this.defaults.width,i=this.defaults.height,r=e.width/e.height,n={w:e.width,h:e.height};return t&i?(n.w=t,n.h=i):t?(n.w=t,n.h=Math.ceil(t/r)):i&&(n.w=Math.ceil(i*r),n.h=i),(n.w>=3264||n.h>=2448)&&(n.w*=.8,n.h*=.8),n}},window.lrz=function(t,i,r){return new e(t,i,r)}}();